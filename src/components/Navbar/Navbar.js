import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { NavLink } from 'react-router-dom';
import { useContext, useEffect, useState } from "react";
import freachCartLogo from '../../assets/images/freshcart-logo.svg';
import { UserContext } from "../../Context/User.context";
import { CartContext } from '../../Context/Cart.context';
export default function Navbar() {
    const { token, logOut } = useContext(UserContext);
    const { cartInfo, getCartProducts } = useContext(CartContext);
    const [menuOpen, setMenuOpen] = useState(false);
    useEffect(() => {
        getCartProducts();
    }, []);
    return (_jsx("nav", { className: "fixed top-0 left-0 right-0 z-50 py-3 shadow bg-slate-100", children: !token ? (_jsx(_Fragment, { children: _jsxs("div", { className: "flex gap-4 items-center justify-between ml-10 mr-10", children: [_jsx("a", { href: "", children: _jsx("img", { src: freachCartLogo, alt: "freach Cart Logo" }) }), _jsxs("div", { className: " space-x-5", children: [_jsx(NavLink, { to: "/Login", className: "btn   text-sm uppercase bg-primary-800 hover:bg-primary-900 text-white font-semibold transition ", children: "Login" }), _jsx(NavLink, { to: "/Signup", className: "btn text-sm uppercase bg-primary-800 hover:bg-primary-900 text-white font-semibold transition", children: "Signup" })] })] }) })
        // روابط Login و Signup عند عدم وجود توكن
        ) : (
        // القائمة الكاملة عند وجود توكن
        _jsx(_Fragment, { children: _jsxs("div", { className: "container flex items-center justify-between", children: [_jsx("a", { href: "", children: _jsx("img", { src: freachCartLogo, alt: "freach Cart Logo" }) }), _jsx("div", { className: "lg:hidden flex items-center justify-center flex-grow", children: token && (_jsxs(NavLink, { to: "/Cart", className: "relative cursor-pointer cart", children: [_jsx("i", { className: "text-2xl fa-solid fa-cart-shopping" }), _jsx("div", { className: "absolute top-0 right-0 flex items-center justify-center w-5 h-5 text-white translate-x-1/2 -translate-y-1/2 rounded-full bg-primary-800", children: cartInfo === null ? (_jsx("i", { className: "text-sm fa-solid fa-spinner fa-spin" })) : (_jsx("span", { className: "text-sm font-semibold", children: cartInfo.numOfCartItems })) })] })) }), _jsxs("div", { className: "lg:hidden flex items-center gap-3", children: [_jsx("button", { onClick: () => setMenuOpen(!menuOpen), className: "text-xl focus:outline-none", children: menuOpen ? (_jsx("i", { className: "fa-solid fa-times" }) // أيقونة الإغلاق
                                ) : (_jsx("i", { className: "fa-solid fa-bars" }) // أيقونة الهامبرجر
                                ) }), token && (_jsx("button", { onClick: logOut, className: "text-lg text-gray-800 flex items-center gap-1", children: _jsx("i", { className: "fa-solid fa-right-from-bracket" }) }))] }), _jsxs("div", { className: `fixed top-0 left-0 w-full h-full bg-slate-100 transition-transform transform ${menuOpen ? "translate-x-0" : "-translate-x-full"} lg:relative lg:translate-x-0 lg:flex lg:items-center lg:gap-5`, children: [_jsx("button", { onClick: () => setMenuOpen(false), className: "absolute top-5 right-5 text-2xl text-gray-800 lg:hidden", children: _jsx("i", { className: "fa-solid fa-times" }) }), _jsx("ul", { className: "flex flex-col ml-12 items-center justify-center text-center gap-4 p-5 border-b lg:flex-row lg:p-0 lg:border-none", children: token && (_jsxs(_Fragment, { children: [_jsx("li", { className: "w-full border-b-2 border-transparent hover:border-[#23b523] hover:border-b-2 transition-all duration-[4000ms]", children: _jsx(NavLink, { to: "/", className: "text-lg w-full block py-2", onClick: () => setMenuOpen(false), children: "Home" }) }), _jsx("li", { className: "w-full border-b-2 border-transparent hover:border-[#23b523] hover:border-b-2 transition-all duration-[2000ms]", children: _jsx(NavLink, { to: "/Products", className: "text-lg w-full block py-2", onClick: () => setMenuOpen(false), children: "Products" }) }), _jsx("li", { className: "w-full border-b-2 border-transparent hover:border-[#23b523] hover:border-b-2 transition-all duration-[2000ms]", children: _jsx(NavLink, { to: "/Categories", className: "text-lg w-full block py-2", onClick: () => setMenuOpen(false), children: "Categories" }) }), _jsx("li", { className: "w-full border-b-2 border-transparent hover:border-[#23b523] hover:border-b-2 transition-all duration-[2000ms]", children: _jsx(NavLink, { to: "/Brand", className: "text-lg w-full block py-2", onClick: () => setMenuOpen(false), children: "Brand" }) }), _jsx("li", { className: "w-full border-b-2 border-transparent hover:border-[#23b523] hover:border-b-2 transition-all duration-[2000ms]", children: _jsx(NavLink, { to: "/allorders", className: "text-lg w-full block py-2", onClick: () => setMenuOpen(false), children: "Orders" }) })] })) }), _jsxs("div", { className: "hidden lg:flex lg:items-center lg:gap-10 lg:ml-auto", children: [token && (_jsxs(NavLink, { to: "/Cart", className: "relative cursor-pointer cart", children: [_jsx("i", { className: "text-xl fa-solid fa-cart-shopping" }), _jsx("div", { className: "absolute top-0 right-0 flex items-center justify-center w-5 h-5 text-white translate-x-1/2 -translate-y-1/2 rounded-full bg-primary-800 ", children: cartInfo === null ? (_jsx("i", { className: "text-sm fa-solid fa-spinner fa-spin " })) : (_jsx("span", { className: "text-sm font-semibold", children: cartInfo.numOfCartItems })) })] })), _jsxs("ul", { className: "flex items-center justify-center gap-3", children: [_jsx("li", { className: "lg:hover:border-b-2 lg:hover:border-[#23b523]", children: _jsx("a", { href: "https://instagram.com", target: "_blank", rel: "noreferrer", children: _jsx("i", { className: "fa-brands fa-instagram" }) }) }), _jsx("li", { className: "lg:hover:border-b-2 lg:hover:border-[#23b523]", children: _jsx("a", { href: "https://facebook.com", target: "_blank", rel: "noreferrer", children: _jsx("i", { className: "fa-brands fa-facebook" }) }) }), _jsx("li", { className: "lg:hover:border-b-2 lg:hover:border-[#23b523]", children: _jsx("a", { href: "https://tiktok.com", target: "_blank", rel: "noreferrer", children: _jsx("i", { className: "fa-brands fa-tiktok" }) }) }), _jsx("li", { className: "lg:hover:border-b-2 lg:hover:border-[#23b523]", children: _jsx("a", { href: "https://twitter.com", target: "_blank", rel: "noreferrer", children: _jsx("i", { className: "fa-brands fa-twitter" }) }) }), _jsx("li", { className: "lg:hover:border-b-2 lg:hover:border-[#23b523]", children: _jsx("a", { href: "https://linkedin.com", target: "_blank", rel: "noreferrer", children: _jsx("i", { className: "fa-brands fa-linkedin" }) }) }), _jsx("li", { className: "lg:hover:border-b-2 lg:hover:border-[#23b523]", children: _jsx("a", { href: "https://youtube.com", target: "_blank", rel: "noreferrer", children: _jsx("i", { className: "fa-brands fa-youtube" }) }) })] }), token && (_jsxs("button", { onClick: logOut, className: "text-lg text-gray-800 flex items-center gap-1", children: [_jsx("i", { className: "fa-solid fa-right-from-bracket" }), " Logout"] }))] })] })] }) })) }));
}
